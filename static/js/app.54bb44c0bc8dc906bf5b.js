webpackJsonp([1],{"/QoJ":function(t,i){},"7zck":function(t,i){},"AXl+":function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("7+uW"),a=e("3EgV"),o=e.n(a),r=e("K/Lq"),s=e.n(r),c=(e("7zck"),{render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("v-app",[i("router-view")],1)],1)},staticRenderFns:[]});var d=e("VU/8")({name:"app"},c,!1,function(t){e("AXl+")},null,null).exports,p=e("mtWM"),l=e.n(p),h=e("/ocq"),u=e("nrd6"),v=e.n(u),m={name:"itfest-map",data:function(){return{windowHeight:window.innerHeight}},mounted:function(){v.a.Control.include({_refocusOnMap:v.a.Util.falseFn}),this.initMap()},methods:{insertRect:function(t){var i=[t.start_point[0]-14e-6*t.height,t.start_point[1]+14e-6*t.width],e=v.a.rectangle([t.start_point,i],{color:t.color,weight:1}).addTo(t.map),n=v.a.divIcon({className:"my-div-icon",html:t.divIcon});return t.divIcon&&v.a.marker(e.getBounds().getCenter(),{icon:n}).addTo(t.map),e},initMap:function(){var t=[-6.8917,107.61038],i=v.a.map("mapid").setView(t,20);v.a.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:25,id:"mapbox.streets",accessToken:"pk.eyJ1IjoiYXVkcnlueW9uYXRhIiwiYSI6ImNqcTlnenBudjExdnozeHQ1bnIzN3czdmoifQ.6cGjJzKovHB68ExIIbcCng"}).addTo(i);v.a.marker(t).addTo(i);var e=v.a.Control.extend({options:{position:"topright"},onAdd:function(i){var e=v.a.DomUtil.create("a");return e.innerHTML="Re-center",e.onclick=function(){e.style.color="grey",setInterval(function(){e.style.color="#0078A8"},300),i.setView(t,21)},e}});i.addControl(new e);this.insertRect({map:i,start_point:[-6.891487,107.610505],width:21,height:25,color:"green"}).bindPopup("EXPO 1. Lapangan Cinta ITB"),this.insertRect({map:i,start_point:[-6.8915259,107.609975],width:22,height:28,color:"green",divIcon:"EXPO 2"}).bindPopup("EXPO 2. Lapangan Basket ITB"),this.insertRect({map:i,start_point:[-6.891501,107.610575],width:4,height:2,color:"grey",divIcon:"SL"}).bindPopup("Stand Lomba"),this.insertRect({map:i,start_point:[-6.891501,107.610631],width:2,height:2,color:"grey",divIcon:"SS"}).bindPopup("Sponsor Silver"),this.insertRect({map:i,start_point:[-6.891501,107.610659],width:2,height:2,color:"grey",divIcon:"1"}).bindPopup("Stand 1"),this.insertRect({map:i,start_point:[-6.891501,107.610687],width:2,height:2,color:"grey",divIcon:"2"}).bindPopup("Stand 2"),this.insertRect({map:i,start_point:[-6.891571,107.610659],width:2,height:2,color:"grey",divIcon:"3"}).bindPopup("Stand 3"),this.insertRect({map:i,start_point:[-6.891487-112e-6,107.610659],width:2,height:2,color:"grey",divIcon:"4"}).bindPopup("Stand 4"),this.insertRect({map:i,start_point:[-6.891627,107.610659],width:2,height:2,color:"grey",divIcon:"5"}).bindPopup("Stand 5"),this.insertRect({map:i,start_point:[-6.891655,107.610659],width:2,height:2,color:"grey",divIcon:"6"}).bindPopup("Stand 6"),this.insertRect({map:i,start_point:[-6.891683,107.610659],width:2,height:2,color:"grey",divIcon:"7"}).bindPopup("Stand 7"),this.insertRect({map:i,start_point:[-6.891711,107.610659],width:2,height:2,color:"grey",divIcon:"8"}).bindPopup("Stand 8"),this.insertRect({map:i,start_point:[-6.891571,107.610771],width:2,height:2,color:"grey",divIcon:"9"}).bindPopup("Stand 9"),this.insertRect({map:i,start_point:[-6.891487-112e-6,107.610771],width:2,height:2,color:"grey",divIcon:"10"}).bindPopup("Stand 10"),this.insertRect({map:i,start_point:[-6.891627,107.610771],width:2,height:2,color:"grey",divIcon:"11"}).bindPopup("Stand 11"),this.insertRect({map:i,start_point:[-6.891655,107.610771],width:2,height:2,color:"grey",divIcon:"12"}).bindPopup("Stand 12"),this.insertRect({map:i,start_point:[-6.891683,107.610771],width:2,height:2,color:"grey",divIcon:"13"}).bindPopup("Stand 13"),this.insertRect({map:i,start_point:[-6.891711,107.610771],width:2,height:2,color:"grey",divIcon:"14"}).bindPopup("Stand 14"),this.insertRect({map:i,start_point:[-6.891795,107.610659],width:2,height:2,color:"grey",divIcon:"15"}).bindPopup("Stand 15"),this.insertRect({map:i,start_point:[-6.891795,107.610687],width:2,height:2,color:"grey",divIcon:"16"}).bindPopup("Stand 16"),this.insertRect({map:i,start_point:[-6.891795,107.610631],width:2,height:2,color:"grey",divIcon:"SG"}).bindPopup("Sponsor Gold"),this.insertRect({map:i,start_point:[-6.891795,107.610575],width:4,height:2,color:"grey",divIcon:"SL"}).bindPopup("Stand Lomba"),this.insertRect({map:i,start_point:[-6.891571,107.610631],width:2,height:4,color:"grey",divIcon:"SP"}).bindPopup("Sponsor Platinum"),this.insertRect({map:i,start_point:[-6.891627,107.610617],width:3,height:5,color:"grey",divIcon:"W"}).bindPopup("Wahana"),this.insertRect({map:i,start_point:[-6.891697,107.610631],width:2,height:2,color:"grey",divIcon:"A"}).bindPopup("Stand Arkavidia & Panggung"),this.insertRect({map:i,start_point:[-6.891725,107.610631],width:2,height:2,color:"grey",divIcon:"A"}).bindPopup("Stand Arkavidia & Panggung")}}},g={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"itfest-map"}},[i("div",{style:{height:this.windowHeight+"px"},attrs:{id:"mapid"}})])},staticRenderFns:[]};var _=e("VU/8")(m,g,!1,function(t){e("/QoJ")},null,null).exports,f=e("jB/q"),b={name:"home",components:{Map:_,barcode:e.n(f).a},data:function(){return{active:0,headers:[{text:"Transaction History",value:"history",sortable:!1,align:"center"},{text:"Points",value:"points",sortable:!1,align:"center"},{text:"Time",value:"time",sortable:!1,align:"center"}]}},methods:{deleteCookie:function(){this.$cookie.delete("user_id"),this.$router.push("/login")},formatTime:function(t){return new Date(t).toLocaleString()}}},y={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"home"}},["/login"!=this.$route.path?e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-spacer"),t._v(" "),e("v-toolbar-title",{staticClass:"white--text futura-bt"},[e("v-layout",{staticClass:"row"},[e("img",{attrs:{src:"https://static.arkavidia.id/5/images/logo.svg",alt:"logo",height:"30"}}),t._v(" "),e("div",{staticClass:"ml-2"},[t._v("ARKAVIDIA 5.0")])])],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-menu",{attrs:{"offset-y":""}},[e("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[e("v-icon",[t._v("more_vert")])],1),t._v(" "),e("v-list",[e("v-list-tile",{on:{click:t.deleteCookie}},[e("v-list-tile-title",[t._v("Log Out")])],1)],1)],1)],1):t._e(),t._v(" "),e("v-flex",[e("v-tabs",{attrs:{color:"primary",dark:"","slider-color":"accent",centered:"","fixed-tabs":""},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},[e("v-tab",{attrs:{ripple:""}},[t._v("\n          Points\n        ")]),t._v(" "),e("v-tab",{attrs:{ripple:""}},[t._v("\n          Maps\n        ")]),t._v(" "),e("v-tab-item",{key:"0"}),t._v(" "),e("v-tab-item",{key:"1"})],1)],1),t._v(" "),0==t.active?e("div",{attrs:{id:"content"}},[e("div",{attrs:{id:"points"}},[e("h1",[t._v("Your Points")]),t._v(" "),e("div",{attrs:{id:"point"}},[t._v(t._s(t.$store.getters.point))]),t._v(" "),t._m(0)]),t._v(" "),e("barcode",{attrs:{value:t.$cookie.get("user_id"),format:"code128"}}),t._v(" "),e("hr"),t._v(" "),e("div",{attrs:{id:"history"}},[e("h1",{staticClass:"primary--text"},[t._v("History")]),t._v(" "),e("v-layout",{staticClass:"row"},[e("v-flex",{staticClass:"md8 offset-md2 xs12"},[t.$store.getters.transaction?e("v-data-table",{attrs:{headers:t.headers,items:t.$store.getters.transaction},scopedSlots:t._u([{key:"items",fn:function(i){return[e("td",{attrs:{align:"center"}},[t._v(t._s(i.item.tenant))]),t._v(" "),i.item.total_price>0?e("td",{staticClass:"tpointr",attrs:{align:"center"}},[t._v("-"+t._s(i.item.total_price))]):e("td",{staticClass:"tpointg",attrs:{align:"center"}},[t._v("+"+t._s(i.item.point))]),t._v(" "),e("td",{attrs:{align:"center"}},[t._v(t._s(t.formatTime(i.item.created_at)))])]}}])}):t._e()],1)],1),t._v(" "),e("br")],1)],1):t._e(),t._v(" "),1==t.active?e("Map"):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("h3",[this._v("Visit all cluster and get"),i("br"),this._v("additional point!")])}]};var w=e("VU/8")(b,y,!1,function(t){e("dc9x")},null,null).exports,I={name:"login",data:function(){return{valid:!0,msg:null,check:[function(t){return!!t||"Please input your id"},function(t){return/^[a-zA-Z0-9- ,_]*$/.test(t)||"Id must be valid"}]}},methods:{submit:function(){var t=this;this.$refs.form.validate()&&l.a.get("https://itfest.arkavidia.id/api/user/"+this.code).then(function(i){t.$store.commit("changeid",t.code),t.$store.commit("changepoint",i.data.point),t.checkId(i)})},getTransaction:function(){var t=this;l.a.get("https://itfest.arkavidia.id/api/transaction/user/"+this.code).then(function(i){t.$store.commit("changetrans",i.data),t.$cookie.set("user_id",t.code,1),t.$router.push("/")})},checkId:function(t){null!=t.data.id?this.getTransaction():this.msg="Id doesn't exist. Please try again!"}}},k={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"login"}},[e("img",{attrs:{src:"https://static.arkavidia.id/5/images/logo.png",width:"100px"}}),t._v(" "),e("br"),t._v(" "),e("h2",{staticClass:"futura-bt bold primary--text"},[t._v("ARKAVIDIA 5.0")]),t._v(" "),e("br"),t._v(" "),e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(i){t.valid=i},expression:"valid"}},[e("v-flex",[e("v-text-field",{staticClass:"centered-input",attrs:{rules:t.check,label:"Code",placeholder:"Input your ID",solo:"",required:"",type:"tel"},model:{value:t.code,callback:function(i){t.code=i},expression:"code"}})],1),t._v(" "),e("v-btn",{attrs:{disabled:!t.valid,color:"primary"},on:{click:t.submit}},[t._v("\n      Check points\n    ")])],1),t._v(" "),e("br"),t._v(" "),e("a",[t._v(t._s(t.msg))])],1)},staticRenderFns:[]};var P=e("VU/8")(I,k,!1,function(t){e("SMsX")},null,null).exports,S=e("NYxO");n.default.use(S.a);var x=new S.a.Store({state:{id:null,point:null,transaction:null},mutations:{changeid:function(t,i){t.id=i},changepoint:function(t,i){t.point=i},changetrans:function(t,i){t.transaction=i}},getters:{id:function(t){return t.id},point:function(t){return t.point},transaction:function(t){return t.transaction}}});n.default.use(h.a),n.default.use(o.a,{theme:{primary:"#04464F",secondary:"#FFFFF2",accent:"#F69320"}}),n.default.use(s.a);var R=[{path:"/",component:w},{path:"/map",component:_},{path:"/login",component:P}],C=new h.a({routes:R});function $(t){for(var i=t+"=",e=document.cookie.split(";"),n=0;n<e.length;n++){for(var a=e[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(i))return a.substring(i.length,a.length)}return""}function A(t){l.a.get("https://itfest.arkavidia.id/api/user/"+t).then(function(i){x.commit("changepoint",i.data.point),function(t){l.a.get("https://itfest.arkavidia.id/api/transaction/user/"+t).then(function(t){return x.commit("changetrans",t.data)})}(t)})}C.beforeEach(function(t,i,e){"/"===t.path||"/map"===t.path?""===$("user_id")?e({path:"/login"}):A($("user_id")):"/login"===t.path&&""!==$("user_id")&&(A($("user_id")),e({path:"/"})),e()}),window.setInterval(function(){A($("user_id"))},5e3),new n.default({el:"#app",store:x,template:"<App/>",components:{App:d},router:C}).$mount("#app")},SMsX:function(t,i){},dc9x:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.54bb44c0bc8dc906bf5b.js.map